Continuing the GalaPo project. Create tests to verify the database schema and Supabase integration.

TECH: Vitest + Supabase JS SDK + MSW v2

REQUIREMENTS:

1. Create /tests/mocks/supabase.ts:
   - Mock the Supabase client for testing
   - Mock common operations: select, insert, update, delete, upload, auth

2. Create /tests/unit/lib/supabase-storage.test.ts:
   - Test uploadFile returns correct URL format
   - Test deleteFile calls correct bucket/path
   - Test getPublicUrl returns correct public URL
   - Test MIME type validation (reject non-image files for image buckets)

3. Create /tests/unit/lib/utils.test.ts:
   - Test generateSlug with various inputs (spaces, special chars, Filipino characters, duplicate hyphens)
   - Test formatCurrency with various amounts (0, 100, 1000.50, negative)
   - Test formatDate with various date strings
   - Test formatPhone with Philippine number formats
   - Test generateInvoiceNumber format and uniqueness
   - Test truncateText with edge cases

4. Create /tests/mocks/factories.ts (EXPANDED):
   - Update all factory functions to match the exact database schema
   - createMockProfile(overrides?)
   - createMockCity(overrides?)
   - createMockBarangay(overrides?)
   - createMockCategory(overrides?) — with proper parent/child
   - createMockCategoryField(overrides?)
   - createMockListing(overrides?) — with all fields
   - createMockListingImage(overrides?)
   - createMockListingFieldValue(overrides?)
   - createMockDeal(overrides?)
   - createMockEvent(overrides?)
   - createMockBlogPost(overrides?)
   - createMockSubscription(overrides?)
   - createMockPayment(overrides?)
   - createMockInvoice(overrides?)
   - createMockAdPlacement(overrides?)
   - createMockNotification(overrides?)
   - Each factory should use realistic Olongapo City data

Output all test files with complete code.