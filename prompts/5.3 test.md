Continuing the GalaPo project. Create tests for the listing detail page.

TECH: Vitest, React Testing Library, MSW v2

REQUIREMENTS:

1. /tests/unit/components/public/listing/ImageGallery.test.tsx:
   - Renders main image from primary image
   - Renders thumbnail strip
   - Clicking thumbnail changes main image
   - Shows placeholder when no images
   - Lightbox opens on main image click
   - Lightbox closes on X or outside click
   - Swipe navigation works (if implemented)

2. /tests/unit/components/public/listing/ContactCard.test.tsx:
   - Phone renders as tel: link
   - Email renders as mailto: link
   - Website opens in new tab
   - Social media icons render with correct links
   - "Get Directions" button generates correct maps URL
   - Missing fields are hidden (no empty rows)
   - Click tracking fires for each action

3. /tests/unit/components/public/listing/OperatingHours.test.tsx:
   - All 7 days render in table
   - Current day is highlighted
   - Closed days show "Closed" in red
   - Open hours show correctly formatted time
   - "Open Now" / "Closed" indicator is accurate for current PH time
   - Missing hours data shows "Contact for hours"

4. /tests/unit/components/public/listing/DynamicFields.test.tsx:
   - Text fields render as plain text
   - Currency fields render with â‚± symbol
   - Boolean fields render Yes/No with icon
   - Select fields render as tag
   - Multi-select fields render as multiple tags
   - URL fields render as clickable links
   - Menu items render as formatted table with name, price, description
   - Empty/null values are skipped
   - Section hides when no dynamic fields exist

5. /tests/unit/components/public/listing/MobileBottomBar.test.tsx:
   - Three buttons render: Call, Directions, Share
   - Call button uses tel: link
   - Directions button opens maps URL
   - Share button triggers Web Share API (or fallback)
   - Bar is sticky at bottom
   - Bar only renders on mobile viewport

6. /tests/integration/api/listing-detail.test.ts:
   - GET /api/listings/barretto-seafood-grill returns full listing data
   - Response includes category, subcategory, barangay, images, dynamic_fields
   - Response includes active_deals and upcoming_events
   - GET /api/listings/non-existent-slug returns 404
   - GET /api/listings/pending-restaurant-test returns 404 (not approved)
   - GET /api/listings/inactive-restaurant-test returns 404 (not active)
   - GET /api/listings/barretto-seafood-grill/related returns 4 related listings
   - Related listings don't include the current listing
   - POST /api/listings/barretto-seafood-grill/contact-click tracks event
   - Analytics event is stored in database

7. /tests/unit/pages/ListingDetailPage.test.tsx:
   - Renders breadcrumb correctly
   - Renders business name as H1
   - Renders image gallery
   - Renders contact card
   - Renders operating hours tab
   - Renders dynamic fields tab (or hides if empty)
   - Renders deals tab (or hides if empty)
   - Renders events tab (or hides if empty)
   - Renders location map
   - Renders share buttons
   - Renders related listings
   - Shows "Claim This Business" for unclaimed listings
   - Hides "Claim This Business" for claimed listings
   - SEO metadata is correct
   - Schema.org JSON-LD is present and valid

Output all test files with complete code.