Continuing the GalaPo city directory project.

TECH: Next.js 16 App Router, TypeScript, Tailwind CSS v4, Shadcn/UI, Leaflet
EXISTING: Project setup, categories, listing grid all built.

Build the complete business listing detail page.

REQUIREMENTS:

1. LISTING DETAIL PAGE — /app/(public)/olongapo/[category]/[slug]/page.tsx:
   
   This is the most important page for SEO and user experience. It's where visitors
   decide to contact a business.

   URL example: /olongapo/food-dining/barretto-seafood-grill
   If listing has a subcategory: /olongapo/food-dining/restaurants/barretto-seafood-grill
   The route should handle both: /olongapo/[category]/[slug] and /olongapo/[category]/[subcategory]/[slug]
   Use a catch-all route: /app/(public)/olongapo/[...slugs]/page.tsx
   Parse slugs to determine if it's category page, subcategory page, or listing detail.

   BREADCRUMB:
   - Home > [Parent Category] > [Subcategory if exists] > [Business Name]
   
   HERO SECTION:
   - Image gallery/carousel (if multiple images):
     - Large main image (16:9 aspect ratio)
     - Thumbnail strip below (scroll horizontal)
     - Click thumbnail → changes main image
     - If no images → professional placeholder with category icon
     - Lightbox on click (full-screen image viewer)
   - Business logo (overlapping bottom-left of hero, rounded, bordered)
   - Badges overlay: "Premium" (gold), "Featured" (coral orange) if applicable
   
   BUSINESS INFO SECTION (below hero):
   
   LEFT COLUMN (65% desktop):
   
   - Business name (H1, large)
   - Category > Subcategory tags (clickable, link back to category page)
   - Address with map pin icon
   - Status indicator: "Open Now" (green) or "Closed" (red) based on operating hours
   
   - TABS (using Shadcn Tabs):
     
     TAB 1 — About:
     - Full description (rendered as rich text/markdown)
     - Tags displayed as chips
     - Payment methods accepted (icons/chips: Cash, GCash, Credit Card, etc.)
     
     TAB 2 — Details (Dynamic Fields):
     - Render all category_fields values for this listing
     - Each field type renders appropriately:
       - TEXT/TEXTAREA: plain text
       - NUMBER/CURRENCY: formatted number/currency
       - BOOLEAN: Yes/No with icon
       - SELECT: value as tag
       - MULTI_SELECT: values as tag chips
       - URL: clickable link
       - IMAGE_GALLERY: mini image grid
       - MENU_ITEMS: formatted menu table (name, description, price, photo)
       - JSON: formatted key-value display
     - Section heading: "[Category]-specific Details"
     - If no dynamic fields filled, hide this tab
     
     TAB 3 — Operating Hours:
     - Table showing each day: Day | Hours | Status
     - Current day highlighted
     - "Open Now" or "Closed" indicator
     - If open 24 hours, show "Open 24 Hours"
     - If no hours set, show "Contact for hours"
     
     TAB 4 — Deals & Offers (if any active deals):
     - List of active deals for this business
     - Each deal: image, title, description, discount text, expiry date
     - "Offer expires in X days" countdown
     - If no deals, hide this tab
     
     TAB 5 — Events (if any upcoming events):
     - List of upcoming events for this business
     - Each event: image, title, date, time, venue, description
     - If no events, hide this tab
   
   RIGHT COLUMN (35% desktop, stacks on mobile):
   
   - CONTACT CARD (sticky on scroll, white card with shadow):
     - Phone number: large, click-to-call (tel: link), phone icon
     - Secondary phone (if exists)
     - Email: click to email (mailto: link)
     - Website: click to open (target _blank, with external icon)
     - Social media links (icons): Facebook, Instagram, TikTok
     - Each link tracked for analytics (click count)
     - "Get Directions" button → opens Google Maps/Waze with lat,lng
     
   - LOCATION MAP (Leaflet):
     - Small map (300x200) with single pin at business lat,lng
     - Address text below map
     - Barangay name
     - Click map → expands or opens full map
   
   - SHARE BUTTONS:
     - Social share: Facebook, Twitter/X, Copy Link
     - Web Share API on mobile (native share sheet)
   
   - AD SLOT:
     - <AdSlot location="listing_sidebar" />
     - 300x250 ad placement
   
   - "CLAIM THIS BUSINESS" link (only shows if listing has no owner):
     - Small text link: "Is this your business? Claim it"
     - Links to /claim/[listing-slug]
   
   BOTTOM SECTION (full width):
   
   - AD SLOT: <AdSlot location="listing_banner" /> (728x90)
   
   - RELATED BUSINESSES:
     - "Similar Businesses in Olongapo"
     - Show 4 listings from same subcategory (or category if no subcategory)
     - Exclude current listing
     - Use ListingCard component
     - Horizontal scrollable on mobile

   MOBILE LAYOUT:
   - Image gallery: full-width swipeable carousel
   - Business info stacks vertically
   - Contact card becomes a sticky bottom bar with:
     - Call button (phone icon)
     - Directions button (map icon)
     - Share button (share icon)
   - Full contact info accessible by tapping "More Info"
   - Tabs become horizontally scrollable tab bar
   - Map: full-width below contact info

2. CREATE COMPONENTS:
   - /components/public/listing/ImageGallery.tsx — carousel + thumbnails + lightbox
   - /components/public/listing/BusinessInfo.tsx — name, category, address, status
   - /components/public/listing/ContactCard.tsx — phone, email, website, social
   - /components/public/listing/OperatingHours.tsx — hours table with current day highlight
   - /components/public/listing/DynamicFields.tsx — renders all category-specific fields
   - /components/public/listing/MenuDisplay.tsx — special renderer for menu_items field type
   - /components/public/listing/DealsList.tsx — deals tab content
   - /components/public/listing/EventsList.tsx — events tab content
   - /components/public/listing/LocationMap.tsx — small Leaflet map with single pin
   - /components/public/listing/RelatedListings.tsx — similar businesses section
   - /components/public/listing/ClaimBanner.tsx — "Claim this business" CTA
   - /components/public/listing/MobileBottomBar.tsx — sticky bottom bar for mobile
   - /components/public/listing/ImageLightbox.tsx — full-screen image viewer

3. SEO (critical for this page):
   - generateMetadata() with:
     - title: "[Business Name] - [Subcategory] in [Barangay], Olongapo | GalaPo"
     - description: listing.short_description (max 160 chars)
     - openGraph: { images: [primary_image_url], type: "business.business" }
     - twitter: { card: "summary_large_image" }
   
   - JSON-LD Structured Data (Schema.org LocalBusiness):
     {
       "@context": "https://schema.org",
       "@type": "LocalBusiness",
       "name": business_name,
       "description": short_description,
       "image": primary_image_url,
       "address": {
         "@type": "PostalAddress",
         "streetAddress": address,
         "addressLocality": "Olongapo City",
         "addressRegion": "Zambales",
         "addressCountry": "PH"
       },
       "geo": {
         "@type": "GeoCoordinates",
         "latitude": lat,
         "longitude": lng
       },
       "telephone": phone,
       "url": website,
       "openingHoursSpecification": [mapped from operating_hours],
       "priceRange": from dynamic fields if available
     }
   
   - Also add BreadcrumbList structured data

4. CATCH-ALL ROUTE LOGIC (/app/(public)/olongapo/[...slugs]/page.tsx):
   - Parse the slugs array:
     - 1 slug: check if it's a category slug → render CategoryPage
     - 2 slugs: check if slug[1] is a subcategory → render SubcategoryPage
              OR check if slug[1] is a listing slug under slug[0] category → render ListingDetailPage
     - 3 slugs: slug[0]=category, slug[1]=subcategory, slug[2]=listing → render ListingDetailPage
   - Return 404 for invalid combinations
   - This replaces the separate [category] and [category]/[subcategory] pages from Module 4
   - Make sure the category and subcategory pages still work with this catch-all

Output ALL files with complete code. Handle all edge cases (no images, no dynamic fields, no deals, no events, unclaimed listing).