Continuing the GalaPo project. Create tests for the search system.

TECH: Vitest, React Testing Library, MSW v2

REQUIREMENTS:

1. /tests/unit/components/public/search/FilterBar.test.tsx:
   - Category chips render for all parent categories
   - Clicking a chip updates filter and highlights it
   - "All Categories" chip resets category filter
   - Barangay multi-select works
   - "Open Now" toggle updates filter
   - Sort dropdown changes sort parameter
   - View toggle switches between grid/list/map
   - "Clear All" resets all filters
   - Active filter chips display correctly
   - Removing a filter chip updates results

2. /tests/unit/components/public/search/SplitMapView.test.tsx:
   - Map renders on left, list on right (desktop)
   - All result pins appear on map
   - Different pin colors for sponsored/featured/regular
   - Clicking pin shows popup
   - Hovering list item highlights map pin
   - "Search this area" button appears after pan/zoom
   - Mobile: map and list stack vertically

3. /tests/unit/components/public/search/NoResults.test.tsx:
   - Shows search query in message
   - Shows suggestion tips
   - Shows popular categories grid
   - "Browse all categories" link works

4. /tests/unit/hooks/useSearchFilters.test.ts:
   - Reads filters from URL params correctly
   - Updates URL when filter changes
   - Handles multi-value params (comma-separated barangays)
   - Returns defaults for missing params
   - Debounces rapid updates

5. /tests/unit/hooks/useGeolocation.test.ts:
   - Returns loading state initially
   - Returns coordinates on success
   - Returns error on denial
   - requestPermission triggers browser API

6. /tests/unit/lib/geo.test.ts:
   - calculateDistance returns correct distance between two Olongapo points
   - calculateDistance: Kalaklan to Barretto ≈ 1.5km (approximate)
   - calculateDistance: Olongapo to SBFZ ≈ 3km (approximate)
   - isWithinRadius returns true for nearby points
   - isWithinRadius returns false for far points
   - getBoundsFromCenter returns correct bounding box
   - Edge cases: same point = 0 distance, antipodal points

7. /tests/integration/api/search.test.ts:
   - Search with q="seafood" returns matching listings
   - Search with q="nonexistent" returns empty results
   - Fuzzy search: q="resturant" still matches "restaurant" (typo tolerance)
   - Search + category filter combined
   - Search + barangay filter combined
   - Search + multiple barangays combined
   - Search + open_now filter (mock current time)
   - Search + distance sort with lat/lng
   - Search area with bounds returns correct listings
   - Pagination works with search
   - Search suggestions returns matching businesses, categories, subcategories
   - Empty query returns all listings (browsing mode)

8. /tests/unit/pages/SearchPage.test.tsx:
   - Renders search bar with query pre-filled from URL
   - Renders filter bar
   - Renders results in grid view by default
   - Switching to map view renders split layout
   - No results state shows for empty search
   - Results count shows correctly
   - Active filters display as chips
   - SEO metadata is correct
   - Loading states show skeleton loaders

Output all test files with complete code.